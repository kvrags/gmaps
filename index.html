
<!DOCTYPE html>
<html>
    <body>
      <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Welcome to Mugilu Estates Directions service</title>
    
    <p>Welcome to Mugilu Estates</p>
    
    <p>This page displays Geolocation data</p>
    
    <p id="time"></p>
    
    <p id="coOrdinates"></p>

    <p id="currentLoc"> </p>
    
    <p id='protocol'> </p>
    
     <p id='map'></p>
     
             
    <!--<script src="//maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script> -->
          
    <script>
      var myLat;
      var myLong;
      var destinationLat;
      var destinationLong;
                
      function pageProtocol(){
       console.log ('calling pageProtocol()');
          document.getElementById("protocol").innerHTML = "Page protocol is " + window.location.protocol;
      }
        pageProtocol();
        
        function showTime(){
        document.getElementById("time").innerHTML = "Time now is : " + Date().toString();
      }
      showTime();
      console.log("calling showTime()");
        
        //timer
        console.log('before setInterval timer function');
        var myVar = setInterval(showTime(), 1000); //every 1 seconds
        //clearInterval(myVar);
        
        // Get the current co-ordinates
        function showCurrentPosition(position) {
                myLat = position.coords.latitude;
                myLong = position.coords.longitude;
                
                //
            document.getElementById("coOrdinates").innerHTML = "Latitude: " + position.coords.latitude +
            "<br>Longitude: " + position.coords.longitude;
            
            //map.setCenter(new google.maps.LatLng(lat, long));
            //console.log ("Current Latitude :" + lat);
            //console.log ("Current Longtitude :" + long);
        }
        function getCurrentLocation() {
            
            if(!!navigator.geolocation) {
                var position;
                navigator.geolocation.getCurrentPosition(showCurrentPosition(position));
                
                
            } else { 
                document.getElementById("coOrdinates").innerHTML = "Geolocation is not supported by this browser.";
                console.log("Geolocation is not supported by this browser.");
                }
        }
    
        
        
        getCurrentLocation();
        
        //this is for the Google Map init callback
        function initMap(){
         console.log("in initMap()");   
        }
     </script>
      
  </head>
    </body>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8U_4A6IKk956Lcw_MW5Erw8zvRYWBbBA&callback=initMap">
    </script>
</html>
