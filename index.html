
<!DOCTYPE html>
<html>
    <body>
      <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Welcome to Mugilu Estates Directions service</title>
    
    <p>Welcome to Mugilu Estates</p>
    
    <p>This page displays Geolocation data</p>
    
    <p id="time"></p>
    
    <p id="coOrdinates"></p>

    <p id="currentLoc"> </p>
    
    <p id='protocol'> </p>
    
     <p id='map'></p>
          
    <script>
      var myLat;
      var myLong;
      var destinationLat;
      var destinationLong;
                
      function pageProtocol(){
       console.log ('calling pageProtocol()');
          document.getElementById("protocol").innerHTML = "Page protocol is " + window.location.protocol;
      }
        pageProtocol();
        
        function showTime(){
        document.getElementById("time").innerHTML = "Time now is : " + Date().toString();
      }
      showTime();
      console.log("calling showTime()");
        
        //timer
        console.log('before setInterval timer function');
        var myVar = setInterval(showTime(), 1000); //every 1 seconds
        //clearInterval(myVar);
        
        // Get the current co-ordinates
        function getLocation() {
            
            if(!!navigator.geolocation) {
                var map;

                var mapOptions = {
                    zoom: 15,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };

                map = new google.maps.Map(document.getElementById('google_canvas'), mapOptions);

                navigator.geolocation.getCurrentPosition(function(position){

                var geolocate = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

                var infowindow = new google.maps.InfoWindow({
                    map: map,
                    position: geolocate,
                    content:
                        '<h1>Location pinned from HTML5 Geolocation!</h1>' +
                        '<h2>Latitude: ' + position.coords.latitude + '</h2>' +
                        '<h2>Longitude: ' + position.coords.longitude + '</h2>'
                  });

                map.setCenter(geolocate);
               });
          } else { 
                document.getElementById("coOrdinates").innerHTML = "Geolocation is not supported by this browser.";
                console.log("Geolocation is not supported by this browser.");
                }
        }
    
        function showPosition(position) {
           
            document.getElementById("coOrdinates").innerHTML = "Latitude: " + position.coords.latitude +
            "<br>Longitude: " + position.coords.longitude;
            
            //map.setCenter(new google.maps.LatLng(lat, long));
            //console.log ("Current Latitude :" + lat);
            //console.log ("Current Longtitude :" + long);
        }
        
        getLocation();
             
        
     </script>
      
  </head>
    </body>
</html>
